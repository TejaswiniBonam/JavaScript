<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="r" onclick="solve('r')">Rock</button>
    <button id="p" onclick = "solve('p')">Paper</button>
    <button id="s" onclick = "solve('s')">Scissors</button>


    <script>
        /*const status = {
            win: 0,
            lose: 0,
            tie: 0
        }; */
        const status = JSON.parse(localStorage.getItem('status')) || {
            win: 0,
            lose: 0,
            tie: 0
        };
        // Here OR tends to storw DEFAULT VALUE
        function solve(us){
            
            let comp = "";
            comp = computerMove();
            console.log("User: " + us + "----- Computer: " + comp);
            if (us == comp){
                alert("It's a tie!");
                status.tie++;
            } else if (us == "r" && comp == "s"){
                alert("You win! Rock crushes scissors.");
                status.win++;
            } else if (us == "p" && comp == "r"){
                alert("You win! Paper covers rock.");
                status.win++;
            } else if (us == "s" && comp == "p"){
                alert("You win! Scissors cut paper.");
                status.win++;
            } else {
                alert("You lose! " + comp + " beats " + us);
                status.lose++;
            }
            console.log("Wins: " + status.win + ", Losses: " + status.lose + ", Ties: " + status.tie);
            localStorage.setItem('status', JSON.stringify(status));

        }
        function ranNum(){
            let num = Math.floor(Math.random() * 3) + 1;
            return num;
        }
        function computerMove(){
            num = ranNum();
            if(num == 1){
                return "r";
            } else if(num == 2){
                return "p";
            } else {
                return "s";
            }
        }
    </script>
</body>
</html>